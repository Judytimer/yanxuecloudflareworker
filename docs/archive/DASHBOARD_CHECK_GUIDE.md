# Cloudflare Dashboard æ£€æŸ¥æŒ‡å— - å…·ä½“æ“ä½œæ­¥éª¤

## ğŸ“ 2. Workers & Pages - å…·ä½“ä½ç½®

### å¯¼èˆªè·¯å¾„ï¼š
1. **å½“å‰é¡µé¢**ï¼šä½ åœ¨ `AI Crawl Control` é¡µé¢
2. **å·¦ä¾§èœå•**ï¼šå‘ä¸‹æ»šåŠ¨ï¼Œæ‰¾åˆ° **"Workers Routes"** æˆ– **"Workers & Pages"**
   - å¦‚æœçœ‹åˆ° **"Workers Routes"** â†’ ç‚¹å‡»å®ƒ
   - å¦‚æœçœ‹åˆ° **"Workers & Pages"** â†’ ç‚¹å‡»å®ƒ

### å…·ä½“æ“ä½œæ­¥éª¤ï¼š

#### æ–¹æ³• Aï¼šé€šè¿‡ Workers Routesï¼ˆæ¨èï¼‰

1. **ç‚¹å‡»å·¦ä¾§èœå•çš„ "Workers Routes"**
   - ä½ç½®ï¼šå·¦ä¾§èœå•ï¼Œåœ¨ "Rules" ä¸‹é¢

2. **æŸ¥çœ‹è·¯ç”±åˆ—è¡¨**
   - åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªè¡¨æ ¼ï¼Œæ˜¾ç¤ºæ‰€æœ‰è·¯ç”±
   - æŸ¥æ‰¾è·¯ç”±ï¼š`api.antech.store/*`
   - ç¡®è®¤çŠ¶æ€æ˜¯ **Active**ï¼ˆç»¿è‰²ï¼‰

3. **å¦‚æœæ²¡æœ‰çœ‹åˆ°è·¯ç”±ï¼Œæˆ–è€…çŠ¶æ€ä¸å¯¹**ï¼š
   - ç‚¹å‡» **"Add route"** æˆ– **"Create route"** æŒ‰é’®
   - é…ç½®ï¼š
     ```
     Route: api.antech.store/*
     Worker: antech-worker-production
     ```
   - ä¿å­˜

#### æ–¹æ³• Bï¼šé€šè¿‡ Workers & Pages

1. **ç‚¹å‡»å·¦ä¾§èœå•çš„ "Workers & Pages"**
   - ä½ç½®ï¼šå·¦ä¾§èœå•ï¼Œé€šå¸¸åœ¨ "Speed" é™„è¿‘

2. **æ‰¾åˆ°ä½ çš„ Worker**
   - åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ° **"antech-worker-production"**
   - ç‚¹å‡»å®ƒ

3. **æŸ¥çœ‹ Worker è¯¦æƒ…**
   - ç‚¹å‡»é¡¶éƒ¨çš„ **"Routes"** æ ‡ç­¾é¡µ
   - åº”è¯¥çœ‹åˆ°è·¯ç”±ï¼š`api.antech.store/*`
   - ç¡®è®¤çŠ¶æ€æ˜¯ **Active**

4. **æŸ¥çœ‹æ—¥å¿—ï¼ˆé‡è¦ï¼‰**
   - ç‚¹å‡» **"Logs"** æ ‡ç­¾é¡µ
   - å°è¯•è®¿é—® APIï¼Œè§‚å¯Ÿæ˜¯å¦æœ‰æ—¥å¿—è¾“å‡º
   - å¦‚æœæœ‰é”™è¯¯ï¼Œä¼šåœ¨è¿™é‡Œæ˜¾ç¤º

---

## ğŸ“ 3. Security â†’ WAF â†’ Custom rules - å…·ä½“ä½ç½®

### å¯¼èˆªè·¯å¾„ï¼š
1. **å½“å‰é¡µé¢**ï¼šä½ åœ¨ `AI Crawl Control` é¡µé¢
2. **å·¦ä¾§èœå•**ï¼šæ‰¾åˆ° **"Security"**ï¼ˆä½ å·²ç»çœ‹åˆ°äº†ï¼Œåœ¨å·¦ä¾§èœå•ä¸­ï¼‰
3. **å±•å¼€ Security**ï¼šç‚¹å‡» Security æ—è¾¹çš„ç®­å¤´ï¼ˆå¦‚æœè¿˜æ²¡å±•å¼€ï¼‰
4. **ç‚¹å‡» "Security rules"** æˆ– **"WAF"**

### å…·ä½“æ“ä½œæ­¥éª¤ï¼š

#### æ­¥éª¤ 1ï¼šè¿›å…¥ WAF è®¾ç½®

1. **å·¦ä¾§èœå•** â†’ **Security** â†’ **WAF**
   - å¦‚æœ Security æ²¡å±•å¼€ï¼Œå…ˆç‚¹å‡»å®ƒå±•å¼€
   - ç„¶åç‚¹å‡» **"WAF"**

2. **æˆ–è€…**ï¼šå·¦ä¾§èœå• â†’ **Security** â†’ **Security rules**
   - æœ‰äº›ç‰ˆæœ¬å¯èƒ½å« "Security rules"

#### æ­¥éª¤ 2ï¼šæŸ¥çœ‹ Custom rules

1. **åœ¨ WAF é¡µé¢**ï¼Œç‚¹å‡»é¡¶éƒ¨çš„ **"Custom rules"** æ ‡ç­¾é¡µ
   - åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªè§„åˆ™åˆ—è¡¨

2. **æ£€æŸ¥æ˜¯å¦æœ‰æ‹¦æˆªè§„åˆ™**
   - æŸ¥çœ‹æ‰€æœ‰è§„åˆ™
   - æ£€æŸ¥æ˜¯å¦æœ‰è§„åˆ™åŒ¹é… `api.antech.store` æˆ– `/graphql`
   - å¦‚æœæœ‰æ‹¦æˆªè§„åˆ™ï¼Œéœ€è¦åˆ é™¤æˆ–ä¿®æ”¹

#### æ­¥éª¤ 3ï¼šåˆ›å»ºå…è®¸è§„åˆ™ï¼ˆå¦‚æœéœ€è¦ï¼‰

1. **ç‚¹å‡» "Create rule"** æˆ– **"Add rule"** æŒ‰é’®

2. **é…ç½®è§„åˆ™**ï¼š
   ```
   Rule name: Allow API subdomain
   
   When incoming requests match:
   - Field: Hostname
   - Operator: equals
   - Value: api.antech.store
   
   Then:
   - Action: Skip
   ```

3. **ä¿å­˜è§„åˆ™**
   - ç‚¹å‡» **"Deploy"** æˆ– **"Save"** æŒ‰é’®
   - ç­‰å¾… 1-2 åˆ†é’Ÿè®©è§„åˆ™ç”Ÿæ•ˆ

---

## ğŸ¯ å¿«é€Ÿæ£€æŸ¥æ¸…å•

### Workers Routes æ£€æŸ¥ï¼š
- [ ] å·¦ä¾§èœå• â†’ Workers Routes
- [ ] ç¡®è®¤è·¯ç”± `api.antech.store/*` å­˜åœ¨
- [ ] ç¡®è®¤çŠ¶æ€æ˜¯ **Active**
- [ ] å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ è·¯ç”±

### Worker æ—¥å¿—æ£€æŸ¥ï¼š
- [ ] å·¦ä¾§èœå• â†’ Workers & Pages
- [ ] ç‚¹å‡» `antech-worker-production`
- [ ] ç‚¹å‡» **Logs** æ ‡ç­¾é¡µ
- [ ] å°è¯•è®¿é—® APIï¼ŒæŸ¥çœ‹æ—¥å¿—

### WAF è§„åˆ™æ£€æŸ¥ï¼š
- [ ] å·¦ä¾§èœå• â†’ Security â†’ WAF
- [ ] ç‚¹å‡» **Custom rules** æ ‡ç­¾é¡µ
- [ ] æ£€æŸ¥æ˜¯å¦æœ‰æ‹¦æˆªè§„åˆ™
- [ ] å¦‚æœæœ‰ï¼Œåˆ›å»ºå…è®¸è§„åˆ™

---

## ğŸ“¸ å¦‚æœæ‰¾ä¸åˆ°è¿™äº›é€‰é¡¹

### æ›¿ä»£è·¯å¾„ï¼š

1. **ç›´æ¥è®¿é—® Workers Routes**ï¼š
   ```
   https://dash.cloudflare.com/189b67fc4c6d83d6fee6a85de5df3f4d/antech.store/workers/routes
   ```

2. **ç›´æ¥è®¿é—® Worker è¯¦æƒ…**ï¼š
   ```
   https://dash.cloudflare.com/189b67fc4c6d83d6fee6a85de5df3f4d/workers-and-pages/view/antech-worker-production
   ```

3. **ç›´æ¥è®¿é—® WAF**ï¼š
   ```
   https://dash.cloudflare.com/189b67fc4c6d83d6fee6a85de5df3f4d/antech.store/security/waf
   ```

---

## ğŸ’¡ æç¤º

- **å¦‚æœå·¦ä¾§èœå•è¢«æŠ˜å **ï¼šç‚¹å‡»å·¦ä¸‹è§’çš„å±•å¼€æŒ‰é’®ï¼ˆé€šå¸¸æ˜¯ä¸‰æ¡æ¨ªçº¿å›¾æ ‡ï¼‰
- **å¦‚æœæ‰¾ä¸åˆ°é€‰é¡¹**ï¼šä½¿ç”¨æµè§ˆå™¨æœç´¢åŠŸèƒ½ï¼ˆCtrl+Fï¼‰æœç´¢ "Workers" æˆ– "WAF"
- **å¦‚æœé¡µé¢åŠ è½½æ…¢**ï¼šç­‰å¾…å‡ ç§’é’Ÿï¼ŒCloudflare Dashboard æœ‰æ—¶éœ€è¦æ—¶é—´åŠ è½½


